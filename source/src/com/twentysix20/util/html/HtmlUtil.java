package com.twentysix20.util.html;



public class HtmlUtil {

	static public String cleanHtml(String text) {
        text = text.replace((char)65533,'\'');
        text = text.replaceAll("[’´`]","'").replaceAll("[“”]|&quot;","\"").replaceAll("…|&#133;", "...");
        text = text.replaceAll("–|&#150;", "-"); // MDash with hyphen
        return text.trim();
    }

    static public String noSpace(String s) {
        return s.replace(' ', '+');
    }

    static public String noSpace(String fill, String s) {
        return s.replaceAll(" ", fill);
    }

    static public String denumberfy(String s) {
        if (s == null) return null;

        StringBuffer buf = new StringBuffer(s);
        int p;
        while ((p = buf.indexOf("&#")) > -1)  {
            int p2 = p + 2;
            while ((p2 < buf.length()) && (buf.charAt(p2) >= '0') && (buf.charAt(p2) <= '9')) {
            	p2++;
            }
            String numStr = buf.substring(p+2, p2);
            short num = Short.parseShort(numStr);
            char c = (char)num;
            if ((p2 < buf.length()) && (buf.charAt(p2) == ';'))
            	p2++;
            buf.replace(p, p2, ""+c);
        }
        return buf.toString();
    }

    public static void main(String[] args) throws Exception {
    	String s = denumberfy("&#84;&#104;&#105;&#115;&#32;&#112;&#108;&#97;&#99;&#101;&#32;&#105;&#115;&#32;&#99;&#114;&#111;&#119;&#100;&#101;&#100;&#44;&#32;&#100;&#111;&#110;&#39;&#116;&#32;&#107;&#110;&#111;&#119;&#32;&#39;&#98;&#111;&#117;&#116;&#32;&#121;&#111;&#117;<br />&#10;&#73;&#32;&#110;&#101;&#101;&#100;&#32;&#115;&#111;&#109;&#101;&#32;&#115;&#101;&#120;&#44;&#32;&#115;&#111;&#109;&#101;&#32;&#115;&#101;&#120;&#32;&#119;&#105;&#116;&#104;&#32;&#121;&#111;&#117;&#32;&#39;&#99;&#97;&#117;&#115;&#101;&#32;&#121;&#111;&#117;&#39;&#114;&#101;&#32;&#111;&#110;&#32;&#109;&#121;&#32;&#109;&#105;&#110;&#100;<br />&#10;&#73;&#32;&#99;&#97;&#110;&#32;&#102;&#101;&#101;&#108;&#32;&#121;&#111;&#117;&#114;&#32;&#115;&#119;&#101;&#97;&#116;&#44;&#32;&#121;&#111;&#117;&#114;&#32;&#98;&#111;&#100;&#121;&#39;&#115;&#32;&#119;&#101;&#116;<br />&#10;&#65;&#110;&#100;&#32;&#73;&#32;&#110;&#101;&#101;&#100;&#32;&#115;&#111;&#109;&#101;&#32;&#104;&#101;&#108;&#112;&#44;&#32;&#103;&#105;&#114;&#108;&#32;&#121;&#111;&#117;&#32;&#107;&#110;&#111;&#119;&#32;&#119;&#104;&#97;&#116;&#32;&#119;&#101;&#32;&#110;&#101;&#101;&#100;&#32;&#116;&#111;&#32;&#100;&#111;<br />&#10;<br />&#10;&#71;&#105;&#114;&#108;&#44;&#32;&#108;&#101;&#116;&#39;&#115;&#32;&#116;&#97;&#107;&#101;&#32;&#97;&#32;&#119;&#97;&#108;&#107;&#32;&#111;&#117;&#116;&#115;&#105;&#100;&#101;<br />&#10;&#76;&#101;&#116;&#39;&#115;&#32;&#116;&#97;&#107;&#101;&#32;&#97;&#32;&#119;&#97;&#108;&#107;&#32;&#111;&#117;&#116;&#115;&#105;&#100;&#101;<br />&#10;&#76;&#101;&#116;&#39;&#115;&#32;&#116;&#97;&#108;&#107;&#32;&#97;&#32;&#119;&#97;&#108;&#107;&#32;&#111;&#117;&#116;&#115;&#105;&#100;&#101;<br />&#10;<br />&#10;&#73;&#39;&#109;&#32;&#114;&#101;&#97;&#100;&#121;&#32;&#116;&#111;&#32;&#103;&#111;&#44;&#32;&#103;&#111;&#32;&#103;&#114;&#97;&#98;&#32;&#121;&#111;&#117;&#114;&#32;&#99;&#111;&#97;&#116;<br />&#10;&#73;&#116;&#39;&#115;&#32;&#104;&#97;&#114;&#100;&#32;&#116;&#111;&#32;&#104;&#111;&#112;&#101;&#44;&#32;&#73;&#39;&#109;&#32;&#100;&#97;&#110;&#99;&#105;&#110;&#103;&#44;&#32;&#108;&#101;&#116;&#39;&#115;&#32;&#103;&#111;<br />&#10;&#84;&#104;&#101;&#32;&#109;&#111;&#111;&#100;&#32;&#105;&#115;&#32;&#114;&#105;&#103;&#104;&#116;&#44;&#32;&#116;&#104;&#101;&#32;&#115;&#99;&#101;&#110;&#101;&#32;&#105;&#115;&#32;&#98;&#114;&#105;&#103;&#104;&#116;<br />&#10;&#72;&#101;&#108;&#112;&#44;&#32;&#100;&#111;&#110;&#39;&#116;&#32;&#121;&#111;&#117;&#32;&#102;&#105;&#103;&#104;&#116;&#44;&#32;&#73;&#32;&#107;&#110;&#111;&#119;&#32;&#116;&#104;&#101;&#32;&#116;&#105;&#109;&#101;&#32;&#105;&#115;&#32;&#114;&#105;&#103;&#104;&#116;<br />&#10;&#71;&#105;&#114;&#108;&#44;&#32;&#109;&#121;&#32;&#108;&#105;&#112;&#115;&#32;&#105;&#115;&#32;&#119;&#104;&#97;&#116;&#32;&#73;&#32;&#110;&#101;&#101;&#100;&#32;&#121;&#111;&#117;&#32;&#116;&#111;&#32;&#104;&#97;&#118;&#101;<br />&#10;<br />&#10;&#71;&#105;&#114;&#108;&#44;&#32;&#108;&#101;&#116;&#39;&#115;&#32;&#116;&#97;&#107;&#101;&#32;&#97;&#32;&#119;&#97;&#108;&#107;&#32;&#111;&#117;&#116;&#115;&#105;&#100;&#101;<br />&#10;&#76;&#101;&#116;&#39;&#115;&#32;&#116;&#97;&#107;&#101;&#32;&#97;&#32;&#119;&#97;&#108;&#107;&#32;&#111;&#117;&#116;&#115;&#105;&#100;&#101;<br />&#10;&#71;&#105;&#114;&#108;&#44;&#32;&#108;&#101;&#116;&#39;&#115;&#32;&#116;&#97;&#108;&#107;&#32;&#97;&#32;&#119;&#97;&#108;&#107;&#32;&#111;&#117;&#116;&#115;&#105;&#100;&#101;<br />&#10;&#71;&#105;&#114;&#108;&#44;&#32;&#108;&#101;&#116;&#39;&#115;&#32;&#116;&#97;&#108;&#107;&#32;&#97;&#32;&#119;&#97;&#108;&#107;<br />&#10;<br />&#10;&#76;&#101;&#116;&#39;&#115;&#32;&#116;&#97;&#107;&#101;&#32;&#97;&#32;&#119;&#97;&#108;&#107;&#44;&#32;&#98;&#97;&#98;&#121;<br />&#10;&#76;&#101;&#116;&#39;&#115;&#32;&#116;&#97;&#107;&#101;&#32;&#97;&#32;&#119;&#97;&#108;&#107;&#44;&#32;&#98;&#97;&#98;&#121;<br />&#10;&#76;&#101;&#116;&#39;&#115;&#32;&#116;&#97;&#107;&#101;&#32;&#97;&#32;&#119;&#97;&#108;&#107;<br />&#10;<br />&#10;&#76;&#105;&#115;&#116;&#101;&#110;&#32;&#110;&#111;&#119;&#44;&#32;&#100;&#111;&#110;&#39;&#116;&#32;&#121;&#111;&#117;&#32;&#107;&#110;&#111;&#119;<br />&#10;&#76;&#111;&#111;&#107;&#105;&#110;&#103;&#32;&#104;&#97;&#112;&#112;&#121;&#32;&#97;&#110;&#121;&#119;&#104;&#101;&#114;&#101;<br />&#10;&#73;&#32;&#107;&#110;&#111;&#119;&#32;&#105;&#116;&#39;&#115;&#32;&#99;&#111;&#108;&#100;&#101;&#114;&#32;&#98;&#117;&#116;&#32;&#73;&#32;&#100;&#111;&#110;&#39;&#116;&#32;&#99;&#97;&#114;&#101;<br />&#10;<br />&#10;&#76;&#101;&#116;&#39;&#115;&#32;&#116;&#97;&#108;&#107;&#32;&#97;&#32;&#119;&#97;&#108;&#107;&#32;&#111;&#117;&#116;&#115;&#105;&#100;&#101;<br />&#10;&#76;&#101;&#116;&#39;&#115;&#32;&#116;&#97;&#108;&#107;&#32;&#97;&#32;&#119;&#97;&#108;&#107;&#32;&#111;&#117;&#116;&#115;&#105;&#100;&#101;<br />&#10;&#78;&#111;&#116;&#32;&#105;&#110;&#32;&#109;&#121;&#32;&#99;&#97;&#114;&#44;&#32;&#111;&#117;&#116;&#115;&#105;&#100;&#101;<br />&#10;&#89;&#111;&#117;&#32;&#99;&#97;&#110;&#32;&#115;&#99;&#114;&#101;&#97;&#109;&#32;&#109;&#121;&#32;&#110;&#97;&#109;&#101;<br />&#10;&#65;&#110;&#100;&#32;&#121;&#111;&#117;&#39;&#100;&#32;&#98;&#101;&#32;&#103;&#108;&#97;&#100;&#32;&#121;&#111;&#117;&#32;&#99;&#97;&#109;&#101;<br />&#10;<br />&#10;&#76;&#101;&#116;&#39;&#115;&#32;&#116;&#97;&#107;&#101;&#32;&#97;&#32;&#119;&#97;&#108;&#107;<br />&#10;&#87;&#97;&#108;&#107;&#44;&#32;&#119;&#97;&#108;&#107;&#44;&#32;&#119;&#97;&#108;&#107;&#44;&#32;&#119;&#97;&#108;&#107;<br />&#10;&#65;&#32;&#119;&#97;&#108;&#107;&#44;&#32;&#119;&#97;&#108;&#107;&#44;&#32;&#119;&#97;&#108;&#107;&#44;&#32;&#119;&#97;&#108;&#107;<br />&#10;<br />&#10;&#66;&#97;&#98;&#121;&#44;&#32;&#97;&#32;&#119;&#97;&#108;&#107;&#44;&#32;&#119;&#97;&#108;&#107;<br />&#10;&#87;&#97;&#108;&#107;&#44;&#32;&#119;&#97;&#108;&#107;&#44;&#32;&#119;&#97;&#108;&#107;<br />&#10;&#65;&#32;&#119;&#97;&#108;&#107;&#44;&#32;&#119;&#97;&#108;&#107;&#44;&#32;&#119;&#97;&#108;&#107;&#44;&#32;&#119;&#97;&#108;&#107;<br />&#10;<br />&#10;&#66;&#97;&#98;&#121;&#44;&#32;&#97;&#32;&#119;&#97;&#108;&#107;&#44;&#32;&#119;&#97;&#108;&#107;<br /><br />");
     	s = s.replaceAll("<br />", "\n");
    	s = s.replaceAll("</p><p>", "\n");
    	s = s.replaceAll("</?span>", "");
    	s = s.replaceAll("</?ji>", "");
    	s = s.replaceAll("</?f>", "");
    	System.out.println(s);
    }
}
